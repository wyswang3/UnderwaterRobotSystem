

---

````md
# 水池实验操作清单  
## ROV 最大速度测试 & 控制系统稳定性验证

> 适用场景：  
> - 第一次或阶段性水池下水实验  
> - 测试机器人最大线速度 / 角速度  
> - 采集 IMU / 推进器 / 控制指令等原始数据  
> - 验证 OrangePi + STM32 控制链路的稳定性  
>
> 本文档 **必须由现场负责人逐项对照执行**，不得跳步。

---

## 0. 实验目标说明（给操作人员）

本次下水实验的核心目标有三点：

1. **测量机器人最大速度能力**
   - 直线最大速度（Surge）
   - 垂向最大速度（Heave，如适用）
   - 转向最大角速度（Yaw）

2. **采集完整运动数据**
   - IMU（加速度、角速度）
   - 推进器 PWM / 功率
   - 控制指令（来自键盘 / GCS）
   - 时间戳对齐的数据日志

3. **验证控制模块稳定性**
   - 长时间运行无崩溃
   - 通信链路无丢包 / 卡死
   - PWM 输出平滑、无异常跳变

---

## 1. 下水前硬件检查（必须完成）

### 1.1 机械与电气

- [ ] 机体外观无明显损伤
- [ ] 推进器螺旋桨无异物、可自由转动
- [ ] 所有推进器固定牢靠
- [ ] 舱体 O 型圈清洁、无夹杂
- [ ] 舱体完全密封并锁紧
- [ ] 电池电量 ≥ 80%
- [ ] 电源线、信号线连接牢固

### 1.2 水池环境

- [ ] 水池水深 ≥ 实验需求
- [ ] 周围无人员下水
- [ ] 水面无漂浮物
- [ ] 预留足够直线运动距离（至少 5–10 m）

---

## 2. 上位机（操作员电脑）准备

### 2.1 网络与连接

- [ ] 操作员电脑与 OrangePi 在同一局域网
- [ ] 能够通过 SSH 登录 OrangePi

示例：
```bash
ssh orangepi@<IP地址>
````

---

## 3. OrangePi 端程序启动顺序（非常重要）

> **启动顺序不可随意更改**

### 3.1 启动 IMU 数据采集（只读、不控制）

> 目的：确保 IMU 数据稳定、时间戳正常

```bash
cd ~/UnderwaterRobotSystem/Underwater-robot-navigation
source venv/bin/activate
python apps/tools/imu_logger.py \
  --port /dev/ttyUSB0 \
  --baud 230400 \
  --log-root ./data
```

检查点：

* [ ] 程序无报错
* [ ] IMU 数据持续输出
* [ ] 日志目录自动创建

---

### 3.2（如有）启动 DVL / 其他传感器记录程序

```bash
python apps/acquire/DVL_logger.py \
  --port /dev/ttyUSB1 \
  --baud 115200 \
  --log-root ./data
```

---

### 3.3 启动 PWM / 控制主程序（**先不下水**）

```bash
cd ~/UnderwaterRobotSystem/OrangePi_STM32_for_ROV/build
./pwm_control_program/pwm_control_program \
  --control-config config/control_params.yaml
```

检查点：

* [ ] 程序启动成功
* [ ] 推进器全部处于 **中位 / 停转**
* [ ] 无自动输出 PWM

⚠️ **此时机器人仍在岸上**

---

### 3.4 启动 GCS / 键盘遥控程序（如适用）

```bash
cd ~/UnderwaterRobotGCS
python -m urogcs.app.tui_main
```

检查点：

* [ ] 能建立 UDP 连接
* [ ] 控制指令有反馈
* [ ] 无报错退出

---

## 4. 下水前“空转安全检查”（必须）

> 机器人 **未入水**，短时间测试

* [ ] 解锁（ARM）机器人
* [ ] 依次轻推：

  * Surge +
  * Surge –
  * Yaw +
  * Yaw –
* [ ] 每次推力持续 < 1 s
* [ ] 推进器转向正确
* [ ] 无异常震动、异响

如有异常：**立即停机，禁止下水**

---

## 5. 正式下水流程

### 5.1 入水

* [ ] 缓慢将机器人放入水中
* [ ] 保持电缆 / 线缆不缠绕
* [ ] 机器人自然悬浮或轻微下沉

---

## 6. 最大速度测试流程（核心部分）

### 6.1 直线最大速度（Surge）

操作流程：

1. [ ] 将机器人调整为水平姿态
2. [ ] 缓慢增加前进指令（10% → 30% → 50%）
3. [ ] 在安全范围内增加至最大允许指令
4. [ ] 保持 3–5 秒
5. [ ] 平滑减小推力至 0

注意事项：

* 禁止一步拉满
* 禁止突然反向
* 保证直线路径无障碍

---

### 6.2 转向最大角速度（Yaw）

* [ ] 低速前进
* [ ] 缓慢增加偏航指令
* [ ] 观察旋转是否平稳
* [ ] 记录最大稳定角速度状态

---

### 6.3（可选）垂向速度（Heave）

* [ ] 确保水深充足
* [ ] 缓慢上下运动
* [ ] 避免触底或出水

---

## 7. 稳定性与长时间运行测试

> 建议至少 **10–20 分钟**

* [ ] 低速巡航
* [ ] 多次启停
* [ ] 小幅姿态调整
* [ ] 观察：

  * 程序是否崩溃
  * PWM 是否异常跳变
  * 通信是否中断

---

## 8. 实验结束流程（非常重要）

### 8.1 停机顺序

1. [ ] 推力归零
2. [ ] 锁定（DISARM）机器人
3. [ ] 停止 PWM 控制程序
4. [ ] 停止 GCS
5. [ ] 停止各类数据记录程序

---

### 8.2 出水与检查

* [ ] 机器人出水
* [ ] 检查舱内是否进水
* [ ] 断开电池
* [ ] 擦干机体

---

## 9. 数据确认与备份

* [ ] IMU 数据文件存在
* [ ] PWM / 控制日志存在
* [ ] 文件大小合理（非 0）
* [ ] 立即拷贝一份到操作员电脑
* [ ] 标注实验时间、操作者、实验内容

---

## 10. 重要安全注意事项（必须强调）

⚠️ **任何时候发现以下情况，立即停机：**

* 推进器失控
* 程序无响应
* 机器人朝人员方向高速运动
* 机体明显进水
* 异常振动或异响

---

## 11. 备注区（现场填写）

* 实验日期：
* 操作人员：
* 水池：
* 主要问题记录：
* 备注：

---

> 本清单为工程级实验文档，
> **任何修改必须同步更新仓库并记录版本号。**

```

---

